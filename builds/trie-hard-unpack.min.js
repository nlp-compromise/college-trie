!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.unpack=t()}}(function(){return function t(e,n,r){function i(u,a){if(!n[u]){if(!e[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[u].exports}for(var o="function"==typeof require&&require,u=0;u<r.length;u++)i(r[u]);return i}({1:[function(t,e,n){"use strict";e.exports={L1:1024,L2:32,W:6,chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}},{}],2:[function(t,e,n){"use strict";var r={0:"qxq",1:"qzq",2:"qxz",3:"qqx",4:"qqz",5:"xqz",6:"xqx",7:"xqq",8:"zxq",9:"zqx"," ":"zzx","'":"zzq"},i=function(t){return t=t.replace(/[0-9 ']/g,function(t){return r[t]})};e.exports=i},{}],3:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return s[t]}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=t("../config"),a=u.W,s=u.chars,c=function(){function t(){r(this,t),this.bits=[]}return o(t,[{key:"write",value:function(t,e){for(var n=e-1;n>=0;n--)t&1<<n?this.bits.push(1):this.bits.push(0)}},{key:"getData",value:function(){for(var t=[],e=0,n=0,r=0;r<this.bits.length;r++)e=e<<1|this.bits[r],n+=1,n===a&&(t.push(i(e)),n=e=0);return n&&t.push(i(e<<a-n)),t.join("")}},{key:"getDebugString",value:function(t){for(var e=[],n=0,r=0;r<this.bits.length;r++)e.push(""+this.bits[r]),n++,n===t&&(e.push(" "),n=0);return e.join("")}}]),t}();e.exports=c},{"../config":1}],4:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./unpack/bitString"),u=t("./pack/bitWriter"),a=(t("./config"),1024),s=32,c=function(){function t(e,n,i){r(this,t),this.directory=new o(e),this.data=new o(n),this.l1Bits=Math.ceil(Math.log(i)/Math.log(2)),this.l2Bits=Math.ceil(Math.log(a)/Math.log(2)),this.sectionBits=(a/s-1)*this.l2Bits+this.l1Bits,this.numBits=i}return i(t,[{key:"getData",value:function(){return this.directory.getData()}},{key:"rank",value:function t(e,n){if(0===e)return n-this.rank(1,n)+1;var t=0,r=n,i=0;return r>=a&&(i=(r/a|0)*this.sectionBits,t=this.directory.get(i-this.l1Bits,this.l1Bits),r%=a),r>=s&&(i+=(r/s|0)*this.l2Bits,t+=this.directory.get(i-this.l2Bits,this.l2Bits)),t+=this.data.count(n-n%s,n%s+1)}},{key:"select",value:function(t,e){for(var n=this.numBits,r=-1,i=-1;n-r>1;){var o=(n+r)/2|0,u=this.rank(t,o);u===e?(i=o,n=o):u<e?r=o:n=o}return i}}]),t}();c.Create=function(t,e){for(var n=new o(t),r=0,i=0,f=0,h=0,l=Math.ceil(Math.log(e)/Math.log(2)),g=Math.ceil(Math.log(a)/Math.log(2)),y=new u;r+s<=e;)h+=n.count(r,s),i+=s,r+=s,i===a?(f+=h,y.write(f,l),h=0,i=0):y.write(h,g);return new c(y.getData(),t,e,a,s)},e.exports=c},{"./config":1,"./pack/bitWriter":3,"./unpack/bitString":5}],5:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("../config"),u=o.W,a=o.chars.split("").reduce(function(t,e,n){return t[e]=n,t},{}),s=[63,31,15,7,3,1,0],c=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],f=function(){function t(e){r(this,t),this.bytes=e,this.length=this.bytes.length*u}return i(t,[{key:"getData",value:function(){return this.bytes}},{key:"get",value:function(t,e){if(t%u+e<=u)return(a[this.bytes[t/u|0]]&s[t%u])>>u-t%u-e;var n=a[this.bytes[t/u|0]]&s[t%u],r=u-t%u;for(t+=r,e-=r;e>=u;)n=n<<u|a[this.bytes[t/u|0]],t+=u,e-=u;return e>0&&(n=n<<e|a[this.bytes[t/u|0]]>>u-e),n}},{key:"count",value:function t(e,n){for(var t=0;n>=8;)t+=c[this.get(e,8)],e+=8,n-=8;return t+c[this.get(e,n)]}},{key:"rank",value:function t(e){for(var t=0,n=0;n<=e;n++)this.get(n,1)&&t++;return t}}]),t}();e.exports=f},{"../config":1}],6:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./bitString"),u=t("../rankDirectory"),a=t("../normalize"),s=function(){function t(e,n,i,o,u,a){r(this,t),this.trie=e,this.index=n,this.letter=i,this.final=o,this.firstChild=u,this.childCount=a}return i(t,[{key:"getChild",value:function(t){return this.trie.getNodeByIndex(this.firstChild+t)}}]),t}(),c=function(){function t(e,n,i){r(this,t),this.data=new o(e),this.directory=new u(n,e,2*i+1),this.letterStart=2*i+1,this.root=this.getNodeByIndex(0)}return i(t,[{key:"getNodeByIndex",value:function(t){var e=1===this.data.get(this.letterStart+6*t,1),n=String.fromCharCode(this.data.get(this.letterStart+6*t+1,5)+"a".charCodeAt(0)),r=this.directory.select(0,t+1)-t,i=this.directory.select(0,t+2)-t-1;return new s(this,t,n,e,r,i-r)}},{key:"has",value:function(t){t=a(t);for(var e=this.root,n=0;n<t.length;n++){for(var r,i=0;i<e.childCount&&(r=e.getChild(i),r.letter!==t[n]);i++);if(i===e.childCount)return!1;e=r}return e.final}}]),t}();e.exports=c},{"../normalize":2,"../rankDirectory":4,"./bitString":5}],7:[function(t,e,n){"use strict";var r=t("./frozenTrie"),i=function(t){var e=t.split(/\|/g),n=new r(e[0],e[1],e[2]);return n};e.exports=i},{"./frozenTrie":6}]},{},[7])(7)});
