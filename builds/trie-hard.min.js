!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.trieHard=t()}}(function(){return function t(e,n,r){function i(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";e.exports={L1:1024,L2:32,W:6,chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}},{}],2:[function(t,e,n){"use strict";var r=t("./unpack"),i=t("./pack");e.exports={pack:i,unpack:r}},{"./pack":5,"./unpack":10}],3:[function(t,e,n){"use strict";var r={0:"qxq",1:"qzq",2:"qxz",3:"qqx",4:"qqz",5:"xqz",6:"xqx",7:"xqq",8:"zxq",9:"zqx"," ":"zzx","'":"zzq"},i=function(t){return t=t.replace(/[0-9 ']/g,function(t){return r[t]})};e.exports=i},{}],4:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return s[t]}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t("../config"),u=a.W,s=a.chars,c=function(){function t(){r(this,t),this.bits=[]}return o(t,[{key:"write",value:function(t,e){for(var n=e-1;n>=0;n--)t&1<<n?this.bits.push(1):this.bits.push(0)}},{key:"getData",value:function(){for(var t=[],e=0,n=0,r=0;r<this.bits.length;r++)e=e<<1|this.bits[r],n+=1,n===u&&(t.push(i(e)),n=e=0);return n&&t.push(i(e<<u-n)),t.join("")}},{key:"getDebugString",value:function(t){for(var e=[],n=0,r=0;r<this.bits.length;r++)e.push(""+this.bits[r]),n++,n===t&&(e.push(" "),n=0);return e.join("")}}]),t}();e.exports=c},{"../config":1}],5:[function(t,e,n){"use strict";var r=t("./trie"),i=t("../rankDirectory"),o=t("../normalize"),a=function(t){var e=new r;t.sort(),t.forEach(function(t){t=o(t),e.insert(t)});var n=e.encode(),a=e.getNodeCount(),u=i.Create(n,2*a+1);return n+"|"+u.getData()+"|"+a};e.exports=a},{"../normalize":3,"../rankDirectory":7,"./trie":6}],6:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./bitWriter"),a=function t(e){r(this,t),this.letter=e,this.final=!1,this.children=[]},u=function(){function t(){r(this,t),this.previousWord="",this.root=new a(" "),this.cache=[this.root],this.nodeCount=1}return i(t,[{key:"getNodeCount",value:function(){return this.nodeCount}},{key:"insert",value:function(t){for(var e=0,n=0;n<Math.min(t.length,this.previousWord.length)&&t[n]===this.previousWord[n];n++)e+=1;this.cache.length=e+1;var r=this.cache[this.cache.length-1];for(n=e;n<t.length;n++){var i=new a(t[n]);this.nodeCount++,r.children.push(i),this.cache.push(i),r=i}r.final=!0,this.previousWord=t}},{key:"apply",value:function(t){for(var e=[this.root];e.length>0;){for(var n=e.shift(),r=0;r<n.children.length;r++)e.push(n.children[r]);t(n)}}},{key:"encode",value:function(){var t=new o;t.write(2,2),this.apply(function(e){for(var n=0;n<e.children.length;n++)t.write(1,1);t.write(0,1)});var e="a".charCodeAt(0);return this.apply(function(n){var r=n.letter.charCodeAt(0)-e;n.final&&(r|=32),t.write(r,6)}),t.getData()}}]),t}();e.exports=u},{"./bitWriter":4}],7:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./unpack/bitString"),a=t("./pack/bitWriter"),u=(t("./config"),1024),s=32,c=function(){function t(e,n,i){r(this,t),this.directory=new o(e),this.data=new o(n),this.l1Bits=Math.ceil(Math.log(i)/Math.log(2)),this.l2Bits=Math.ceil(Math.log(u)/Math.log(2)),this.sectionBits=(u/s-1)*this.l2Bits+this.l1Bits,this.numBits=i}return i(t,[{key:"getData",value:function(){return this.directory.getData()}},{key:"rank",value:function t(e,n){if(0===e)return n-this.rank(1,n)+1;var t=0,r=n,i=0;return r>=u&&(i=(r/u|0)*this.sectionBits,t=this.directory.get(i-this.l1Bits,this.l1Bits),r%=u),r>=s&&(i+=(r/s|0)*this.l2Bits,t+=this.directory.get(i-this.l2Bits,this.l2Bits)),t+=this.data.count(n-n%s,n%s+1)}},{key:"select",value:function(t,e){for(var n=this.numBits,r=-1,i=-1;n-r>1;){var o=(n+r)/2|0,a=this.rank(t,o);a===e?(i=o,n=o):a<e?r=o:n=o}return i}}]),t}();c.Create=function(t,e){for(var n=new o(t),r=0,i=0,f=0,h=0,l=Math.ceil(Math.log(e)/Math.log(2)),p=Math.ceil(Math.log(u)/Math.log(2)),v=new a;r+s<=e;)h+=n.count(r,s),i+=s,r+=s,i===u?(f+=h,v.write(f,l),h=0,i=0):v.write(h,p);return new c(v.getData(),t,e,u,s)},e.exports=c},{"./config":1,"./pack/bitWriter":4,"./unpack/bitString":8}],8:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("../config"),a=o.W,u=o.chars.split("").reduce(function(t,e,n){return t[e]=n,t},{}),s=[63,31,15,7,3,1,0],c=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,1,2,2,3,2,3,3,4,2,3,3,4,3,4,4,5,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,2,3,3,4,3,4,4,5,3,4,4,5,4,5,5,6,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,3,4,4,5,4,5,5,6,4,5,5,6,5,6,6,7,4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],f=function(){function t(e){r(this,t),this.bytes=e,this.length=this.bytes.length*a}return i(t,[{key:"getData",value:function(){return this.bytes}},{key:"get",value:function(t,e){if(t%a+e<=a)return(u[this.bytes[t/a|0]]&s[t%a])>>a-t%a-e;var n=u[this.bytes[t/a|0]]&s[t%a],r=a-t%a;for(t+=r,e-=r;e>=a;)n=n<<a|u[this.bytes[t/a|0]],t+=a,e-=a;return e>0&&(n=n<<e|u[this.bytes[t/a|0]]>>a-e),n}},{key:"count",value:function t(e,n){for(var t=0;n>=8;)t+=c[this.get(e,8)],e+=8,n-=8;return t+c[this.get(e,n)]}},{key:"rank",value:function t(e){for(var t=0,n=0;n<=e;n++)this.get(n,1)&&t++;return t}}]),t}();e.exports=f},{"../config":1}],9:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t("./bitString"),a=t("../rankDirectory"),u=t("../normalize"),s=function(){function t(e,n,i,o,a,u){r(this,t),this.trie=e,this.index=n,this.letter=i,this.final=o,this.firstChild=a,this.childCount=u}return i(t,[{key:"getChild",value:function(t){return this.trie.getNodeByIndex(this.firstChild+t)}}]),t}(),c=function(){function t(e,n,i){r(this,t),this.data=new o(e),this.directory=new a(n,e,2*i+1),this.letterStart=2*i+1,this.root=this.getNodeByIndex(0)}return i(t,[{key:"getNodeByIndex",value:function(t){var e=1===this.data.get(this.letterStart+6*t,1),n=String.fromCharCode(this.data.get(this.letterStart+6*t+1,5)+"a".charCodeAt(0)),r=this.directory.select(0,t+1)-t,i=this.directory.select(0,t+2)-t-1;return new s(this,t,n,e,r,i-r)}},{key:"has",value:function(t){t=u(t);for(var e=this.root,n=0;n<t.length;n++){for(var r,i=0;i<e.childCount&&(r=e.getChild(i),r.letter!==t[n]);i++);if(i===e.childCount)return!1;e=r}return e.final}}]),t}();e.exports=c},{"../normalize":3,"../rankDirectory":7,"./bitString":8}],10:[function(t,e,n){"use strict";var r=t("./frozenTrie"),i=function(t){var e=t.split(/\|/g),n=new r(e[0],e[1],e[2]);return n};e.exports=i},{"./frozenTrie":9}]},{},[2])(2)});
